<h2 style="color: #0072BB; font-size: 32px; font-weight: 600; text-align: center; margin-top: 30px;">Live Auctions</h2>

<div class="my-table">
  <!-- <mat-form-field>
    <input matInput placeholder="Search" class="my-filter-input" (keyup)="liveFilterChange($event)">
  </mat-form-field> -->
  <div class="top">
    <form class="my-form-field">
      <input placeholder="Search" class="my-filter-input" (keyup)="liveFilterChange($event)">
    </form>
  </div>

  <div class="mat-elevation-z3" style="display: inline-table;">

    <table mat-table matSort [dataSource]="liveDataSource">

      <ng-container matColumnDef="sNo">
        <th mat-header-cell *matHeaderCellDef style="background-color: #494848;"> S No. </th>
        <td mat-cell *matCellDef="let item; let i = index">
          {{ (paginatorRef.pageIndex * paginatorRef.pageSize) + (i + 1) }}
        </td>
      </ng-container>

      <ng-container matColumnDef="productImage">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Product Image </th>
        <td mat-cell *matCellDef="let element">
          <div class="product-image-container">
            <img class="product-image" [src]="imgBasePath + getImage(element.productId)" />
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="productName">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Product Name </th>
        <td mat-cell *matCellDef="let element" style="color: #00416D; cursor: pointer;"> <a (click)="viewAuction(element)">{{ getProductName(element.productId) }} </a> </td>
      </ng-container>

      <ng-container matColumnDef="startDate">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Start Date </th>
        <td mat-cell *matCellDef="let element"> {{element.startDate}} </td>
      </ng-container>

      <ng-container matColumnDef="endDate">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> End Date </th>
        <td mat-cell *matCellDef="let element"> {{element.endDate}} </td>
      </ng-container>

      <ng-container matColumnDef="emdAmount">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> EMD Amount </th>
        <td mat-cell *matCellDef="let element"> {{element.emdAmount}} </td>
      </ng-container>

      <ng-container matColumnDef="startBidAmount">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Start Amount </th>
        <td mat-cell *matCellDef="let element"> {{element.startBidAmount}} </td>
      </ng-container>

      <ng-container matColumnDef="availableQty">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Qty </th>
        <td mat-cell *matCellDef="let element"> {{element.availableQty}} </td>
      </ng-container>

      <ng-container matColumnDef="currentBidAmount">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Current Bid Amount
        </th>
        <td mat-cell *matCellDef="let element"> {{element.currentBidAmount}} </td>
      </ng-container>

      <ng-container matColumnDef="soldBy">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Sold By </th>
        <td mat-cell *matCellDef="let element"> SLR{{getProduct(element.productId)?.sellerId}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="liveDisplayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: liveDisplayedColumns;" class="my-table-row"></tr>
    </table>

    <mat-paginator class="my-paginator" #paginatorRef [length]="liveDataSource?.data?.length" [pageSize]="10"
      [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons></mat-paginator>

  </div>
</div>


<h2 style="color: #0072BB; font-size: 32px; font-weight: 600; text-align: center; margin-top: 30px;">Upcoming Auctions
</h2>

<div class="my-table">
  <!-- <mat-form-field>
    <input matInput placeholder="Search" class="my-filter-input" (keyup)="upcomingFilterChange($event)">
  </mat-form-field> -->
  <div class="top">
    <form class="my-form-field">
      <input placeholder="Search" class="my-filter-input" (keyup)="upcomingFilterChange($event)">
    </form>
  </div>

  <div class="mat-elevation-z3" style="display: inline-table;">

    <table mat-table matSort [dataSource]="upcomingDataSource">

      <ng-container matColumnDef="sNo">
        <th mat-header-cell *matHeaderCellDef style="background-color: #494848;"> S No. </th>
        <td mat-cell *matCellDef="let item; let i = index">
          {{ (paginatorRef.pageIndex * paginatorRef.pageSize) + (i + 1) }}
        </td>
      </ng-container>

      <ng-container matColumnDef="productImage">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Product Image </th>
        <td mat-cell *matCellDef="let element" style="color: #00416D;">
          <div class="product-image-container">
            <img class="product-image" [src]="imgBasePath + getImage(element.productId)" />
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="productName">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848; cursor: pointer;"> Product Name </th>
        <td mat-cell *matCellDef="let element" style="color: #00416D; cursor: pointer;"> <a (click)="viewAuction(element)">{{ getProductName(element.productId) }} </a> </td>
      </ng-container>

      <ng-container matColumnDef="startDate">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Start Date </th>
        <td mat-cell *matCellDef="let element"> {{element.startDate}} </td>
      </ng-container>

      <ng-container matColumnDef="endDate">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> End Date </th>
        <td mat-cell *matCellDef="let element"> {{element.endDate}} </td>
      </ng-container>

      <ng-container matColumnDef="emdAmount">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> EMD Amount </th>
        <td mat-cell *matCellDef="let element"> {{element.emdAmount}} </td>
      </ng-container>

      <ng-container matColumnDef="startBidAmount">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Start Amount </th>
        <td mat-cell *matCellDef="let element"> {{element.startBidAmount}} </td>
      </ng-container>

      <ng-container matColumnDef="availableQty">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Qty </th>
        <td mat-cell *matCellDef="let element"> {{element.availableQty}} </td>
      </ng-container>

      <ng-container matColumnDef="soldBy">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Sold By </th>
        <td mat-cell *matCellDef="let element"> SLR{{getProduct(element.productId)?.sellerId}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="upcomingDisplayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: upcomingDisplayedColumns;" class="my-table-row"></tr>
    </table>

    <mat-paginator class="my-paginator" #paginatorRef [length]="upcomingDataSource?.data?.length" [pageSize]="10"
      [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons></mat-paginator>

  </div>
</div>

<h2 style="color: #0072BB; font-size: 32px; font-weight: 600; text-align: center; margin-top: 30px;">Closed Auctions
</h2>

<div class="my-table">
  <!-- <mat-form-field>
    <input matInput placeholder="Search" class="my-filter-input" (keyup)="closedFilterChange($event)">
  </mat-form-field> -->
  <div class="top">
    <form class="my-form-field">
      <input placeholder="Search" class="my-filter-input" (keyup)="closedFilterChange($event)">
    </form>
  </div>

  <div class="mat-elevation-z3" style="display: inline-table;">

    <table mat-table matSort [dataSource]="closedDataSource">

      <ng-container matColumnDef="sNo">
        <th mat-header-cell *matHeaderCellDef style="background-color: #494848;"> S No. </th>
        <td mat-cell *matCellDef="let item; let i = index">
          {{ (paginatorRef.pageIndex * paginatorRef.pageSize) + (i + 1) }}
        </td>
      </ng-container>

      <ng-container matColumnDef="productImage">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Product Image </th>
        <td mat-cell *matCellDef="let element" style="color: #00416D;">
          <div class="product-image-container">
            <img class="product-image" [src]="imgBasePath + getImage(element.productId)" />
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="productName">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848; cursor: pointer;"> Product Name </th>
        <td mat-cell *matCellDef="let element" style="color: #00416D; cursor: pointer;"> <a (click)="viewAuction(element)">{{ getProductName(element.productId) }} </a> </td>
      </ng-container>

      <ng-container matColumnDef="startDate">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Start Date </th>
        <td mat-cell *matCellDef="let element"> {{element.startDate}} </td>
      </ng-container>

      <ng-container matColumnDef="endDate">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> End Date </th>
        <td mat-cell *matCellDef="let element"> {{element.endDate}} </td>
      </ng-container>

      <ng-container matColumnDef="emdAmount">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> EMD Amount </th>
        <td mat-cell *matCellDef="let element"> {{element.emdAmount}} </td>
      </ng-container>

      <ng-container matColumnDef="startBidAmount">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Start Amount </th>
        <td mat-cell *matCellDef="let element"> {{element.startBidAmount}} </td>
      </ng-container>

      <ng-container matColumnDef="availableQty">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Qty </th>
        <td mat-cell *matCellDef="let element"> {{element.availableQty}} </td>
      </ng-container>

      <ng-container matColumnDef="highestBidAmount">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Highest Bid Amount
        </th>
        <td mat-cell *matCellDef="let element"> {{element.currentBidAmount}} </td>
      </ng-container>

      <ng-container matColumnDef="soldBy">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Sold By </th>
        <td mat-cell *matCellDef="let element"> SLR{{getProduct(element.productId)?.sellerId }} </td>
      </ng-container>

      <!-- <ng-container matColumnDef="winnerName">
        <th mat-header-cell mat-sort-header *matHeaderCellDef style="background-color: #494848;"> Winner</th>
        <td mat-cell *matCellDef="let element"> BYR{{element.winnerId}} </td>
      </ng-container> -->

      <tr mat-header-row *matHeaderRowDef="closedDisplayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: closedDisplayedColumns;" class="my-table-row"></tr>
    </table>

    <mat-paginator class="my-paginator" #paginatorRef [length]="closedDataSource?.data?.length" [pageSize]="10"
      [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons></mat-paginator>

  </div>
</div>
